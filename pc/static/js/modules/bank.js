layui.define(["$http","apis","path"],function(a){var e=layui.$http,n=layui.apis;layui.path;a("bank",{openBank:function(a){e.ajax({url:n.personalRegister,data:{redirectUrl:a.redirectUrl,userRole:a.userRole,realName:a.realName,idCardNo:a.idCardNo,bankcardNo:a.bankcardNo,mobile:a.mobile},success:function(a){0===a.code?window.location.href=a.data:e.errorMsg(a)}})},validateBank:function(a){var c=a.isSrbankUser,e=a.isSrbankUserBindcard,n=a.bankcardStatus,r=a.needResetPwdFirst,t=a.isSrbankUserSignAutoBid,l=a.isSrbankUserSignCreditTransfer,o=a.isSrbankUserSignTransfer,i=a.isWhetherEvaluation;if(c){if(e&&"UNBIND"!==n){if(r)return a.resetPWDCallback&&"function"==typeof a.resetPWDCallback&&a.resetPWDCallback(),!1;if(!t&&a.validata.signAutoBid)return a.signAutoBidCallback&&"function"==typeof a.signAutoBidCallback&&a.signAutoBidCallback(),!1;if(!l&&a.validata.signCreditTransfer)return a.signCreditTransferCallback&&"function"==typeof a.signCreditTransferCallback&&a.signCreditTransferCallback(),!1;if(!o&&a.validata.signTransfer)return a.signTransferCallback&&"function"==typeof a.signTransferCallback&&a.signTransferCallback(),!1;if(!i&&a.validata.whetherEvaluation)return a.whetherEvaluationCallback&&"function"==typeof a.whetherEvaluationCallback&&a.whetherEvaluationCallback(),!1;a.validataSuccessCallback&&"function"==typeof a.validataSuccessCallback&&a.validataSuccessCallback()}else if(a.bindCardCallback&&"function"==typeof a.bindCardCallback)return a.bindCardCallback(),!1}else if(a.srbankUserCallback&&"function"==typeof a.srbankUserCallback)return a.srbankUserCallback(),!1},getBankList:function(c){e.ajax({url:n.bankInfo,data:{bankcode:c.bankcode},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},tradeInPage:function(c){e.ajax({url:n.rechargePage,success:function(a){0===a.code?c(a.data):e.errorMsg(a)}})},tradeIn:function(c){e.ajax({url:n.recharge,data:{amount:c.amount,rechargeWay:c.rechargeWay,bankcode:c.bankcode,redirectUrl:c.redirectUrl},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},checkChargeSuccess:function(c){e.ajax({url:n.checkChargeSuccess,data:{requestNo:c.requestNo},success:function(a){c.callback&&"function"==typeof c.callback&&c.callback(a)}})},tradeOutPage:function(c){e.ajax({url:n.withdrawPage,success:function(a){0===a.code?c(a.data):e.errorMsg(a)}})},tradeOut:function(c){e.ajax({url:n.withdraw,data:{amount:c.amount,redirectUrl:c.redirectUrl},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},getBankInformation:function(c){e.ajax({url:n.queryInformation,success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},sign:function(c){e.ajax({url:n.srbankSignPage,data:{sign_type:c.signType,redirectUrl:c.redirectUrl},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},resetPass:function(c){e.ajax({url:n.resetPassword,data:{authCode:c.authCode,redirectUrl:c.redirectUrl,needCheck:c.needCheck},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},undoUnbindBankcard:function(c){e.ajax({url:n.undoUnbindBankcard,success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},unbindBankcardPage:function(c){e.ajax({url:n.unbindBankcardPage,success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},sendPhoneYzm:function(c){e.ajax({url:n.sendPhoneYzm,data:{phone_num:c.phoneNum,type:c.type,check_mobile:c.checkMobile},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},unbindBankcardCheck:function(c){e.ajax({url:n.unbindBankcardCheck,data:{verify_code:c.verifyCode,bankcardno:c.bankcardno,mobile:c.mobile},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},unbindBankcardApply:function(c){e.ajax({url:n.unbindBankcardApply,type:"post",data:{imgbase64:c.imgbase64,type:c.type},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})},modifyReservedMobile:function(c){e.ajax({url:n.modifyReservedMobile,data:{mobile:c.mobile,authCode:c.authCode},success:function(a){0===a.code?c.callback&&"function"==typeof c.callback&&c.callback(a.data):e.errorMsg(a)}})}})});